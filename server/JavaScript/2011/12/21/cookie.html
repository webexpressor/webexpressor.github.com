<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="author" content="Liu Dong" />
		<meta property="wb:webmaster" content="95df5d741703d83b" />
		<!--[if lt IE 9]>
	      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	    <![endif]-->
		<link rel="stylesheet" href="/css/base.css" type="text/css" />
		<link rel="stylesheet" href="/css/syntax.css" type="text/css" />
		<title>cookie</title>
	</head>
	<body>
		<header role="main">
			<div>
				<a href="/"><span class="threeD">WebExpressor</span></a>
				<span class="right"><script type="text/javascript" charset="utf-8">
(function(){
  var _w = 106 , _h = 24;
  var param = {
    url:location.href,
    type:'5',
    count:'', /**是否显示分享数，1显示(可选)*/
    appkey:'', /**您申请的应用appkey,显示分享来源(可选)*/
    title:'cookie utils 包括了操作cookie的一些常用方法', /**分享的文字内容(可选，默认为所在页面的title)*/
    pic:'', /**分享图片的路径(可选)*/
    ralateUid:'1769773192', /**关联用户的UID，分享微博会@该用户(可选)*/
  language:'zh_cn', /**设置语言，zh_cn|zh_tw(可选)*/
    rnd:new Date().valueOf()
  }
  var temp = [];
  for( var p in param ){
    temp.push(p + '=' + encodeURIComponent( param[p] || '' ) )
  }
  document.write('<iframe allowTransparency="true" frameborder="0" scrolling="no" src="http://hits.sinajs.cn/A1/weiboshare.html?' + temp.join('&') + '" width="'+ _w+'" height="'+_h+'"></iframe>')
})()
</script></span>
				<span class="right"><iframe width="63" height="24" frameborder="0" allowtransparency="true" marginwidth="0" marginheight="0" scrolling="no" border="0" src="http://widget.weibo.com/relationship/followbutton.php?language=zh_cn&width=63&height=24&uid=1769773192&style=1&btn=red&dpc=1"></iframe></span>
			</div>
		</header>
		<div id="content" role="main">
			<section role="main">
<div class="page">
	<header>
		<div class="title">cookie</div>
		<div class="info">
			分类：JavaScript  标签：cookie
		</div>
		<div class="description">cookie utils 包括了操作cookie的一些常用方法</div>
	</header>
	<div class="content"><h1>CookieUtil</h1>

<div class="highlight"><pre><code class="javascript"><span class="kd">function</span> <span class="nx">getCookie</span><span class="p">(</span><span class="nx">cookieName</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">cookieValue</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="nx">cookie</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
        <span class="kd">var</span> <span class="nx">cookieStart</span> <span class="o">=</span> <span class="nx">cookie</span><span class="p">.</span><span class="nx">indexof</span><span class="p">(</span><span class="nx">cookieName</span> <span class="o">+</span> <span class="s1">&#39;=&#39;</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">cookieStart</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
            <span class="kd">var</span> <span class="nx">cookieEnd</span> <span class="o">=</span> <span class="nx">cookie</span><span class="p">.</span><span class="nx">indexof</span><span class="p">(</span><span class="s1">&#39;;&#39;</span><span class="p">,</span> <span class="nx">cookieStart</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="nx">cookieEnd</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">){</span>
                <span class="nx">cookieEnd</span> <span class="o">=</span> <span class="nx">cookie</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">cookieValue</span> <span class="o">=</span> <span class="nx">unescape</span><span class="p">(</span><span class="nx">cookie</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">cookieStart</span> <span class="o">+</span> <span class="nx">cookieName</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span><span class="nx">cookieEnd</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">cookieValue</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">setCookie</span><span class="p">(</span><span class="nx">cookieName</span><span class="p">,</span><span class="nx">cookieValue</span><span class="p">,</span><span class="nx">expireDate</span><span class="p">){</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="nx">cookieName</span> <span class="o">+</span> <span class="s1">&#39;=&#39;</span> <span class="o">+</span> <span class="nx">escape</span><span class="p">(</span><span class="nx">cookieValue</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;;expires=&#39;</span> <span class="o">+</span> <span class="nx">expireDate</span><span class="p">.</span><span class="nx">toGMTString</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">deleteCookie</span><span class="p">(</span><span class="nx">cookieName</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">newDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
    <span class="nx">newDate</span><span class="p">.</span><span class="nx">setTime</span><span class="p">(</span><span class="nx">newDate</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">-</span> <span class="mi">86400000</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">cookie</span> <span class="o">=</span> <span class="nx">cookieName</span> <span class="o">+</span> <span class="s1">&#39;=delete;expires=&#39;</span><span class="o">+</span><span class="nx">newDate</span><span class="p">.</span><span class="nx">toGMTString</span><span class="p">();</span>
<span class="p">}</span>
</code></pre>
</div>


<h1>Allowing a Cookie to be Seen for all Pages in a Site</h1>

<p>When a cookie is created by JavaScript, by default it is only accessible from
other pages in the same directory on the server. You can, however, define
which directory path on the server is allowed to access a cookie you create.</p>

<p>设置path参数，如果是'/'，则整个网站都可见</p>
</div>
	<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'webexpressor'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        

</div>
</section>
<aside role="main">
	<div id="table-content"></div>
</aside>




		</div>
	
		
			<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
			<script>window.jQuery || document.write('<script src="/js/jquery-1.7.2.min.js"><\/script>')</script>
			<script src="/js/jquery.localscroll-1.2.7-min.js"></script>
			<script src="/js/jquery.scrollTo-1.4.2-min.js"></script>
			<script src="/js/app.js"></script>
			<script>
				/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		        var disqus_shortname = 'webexpressor'; // required: replace example with your forum shortname
		        /* * * DON'T EDIT BELOW THIS LINE * * */
		        (function () {
		            var s = document.createElement('script'); s.async = true;
		            s.type = 'text/javascript';
		            s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
		            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
		        }());
			</script>
		
		<script type="text/javascript">
			var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
			document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F512f2c73d9bfeaa9a55e270c5405a590' type='text/javascript'%3E%3C/script%3E"));

		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-34957367-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

        </script>

	</body>
</html>